<!DOCTYPE html> 
<html> 
	<head> 
	<title>My Page</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.1/jquery.mobile-1.1.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.1.1/jquery.mobile-1.1.1.min.js"></script>

	<!--LEAFLET-->
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4.4/leaflet.css" />
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4.4/leaflet.ie.css" />
        <![endif]-->
        
	<script src="http://cdn.leafletjs.com/leaflet-0.4.4/leaflet.js"></script>
    
    	<style type="text/css">
		#map {min-height: 500px; margin: -15px;}
		body {
			height: 100%;
			padding: 0;
			margin: 0;
		}
		html, body, {
			height: 100%;
		}
	
	</style>
    
</head> 
<body> 

<div data-role="page">

	<div data-role="header" data-position="fixed" data-tap-toggle="false" data-fullscreen="false">
		<h1>My Title</h1>
	</div><!-- /header -->

	<div data-role="content">	
    
    	<div id="map"></div>
    
	<script>
		var center = new L.LatLng(-42.8232,147.2555);
		var map = new L.Map('map', {center: center});
		L.tileLayer('http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png', {
			maxZoom: 18,
		}).addTo(map);
		function onLocationFound(e) {
			var radius = e.accuracy / 2;
			L.marker(e.latlng).addTo(map)
				.bindPopup("You are within " + radius + " meters from this point").openPopup();
			L.circle(e.latlng, radius).addTo(map);
		}
		function onLocationError(e) {
			alert(e.message);
		}
		map.on('locationfound', onLocationFound);
		map.on('locationerror', onLocationError);
		map.locate({setView: true, maxZoom: 16});
		setTimeout(function(){
			lf.invalidateSize();
			}, 1);
	</script>

    
	</div><!-- /content -->
</div><!-- /page -->
</body>
</html>
